<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Getting started with pyCATCH &mdash; pyCATCH  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pyCATCH" href="pycatch/index.html" />
    <link rel="prev" title="pyCATCH" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pyCATCH
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting started with pyCATCH</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#reading-the-documentation">Reading the documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-pycatch">Installing pyCATCH</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initializing-pycatch">Initializing pyCATCH</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dowloading-data">Dowloading data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loading-data">Loading data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#calibrating-data">Calibrating data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#selecting-coronal-hole-seed-point">Selecting coronal hole seed point</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-a-threshold">Setting a threshold</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extracting-the-coronal-hole">Extracting the coronal hole</a></li>
<li class="toctree-l2"><a class="reference internal" href="#calculating-coronal-hole-properties">Calculating coronal hole properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plotting-and-saving-coronal-hole-extractions">Plotting and saving coronal hole extractions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#saving-and-loading-pycatch-session">Saving and loading pyCATCH session</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pycatch/index.html">pyCATCH</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledging.html">Acknowledging or Citing pyCATCH</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyCATCH</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Getting started with pyCATCH</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/getting_started.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="getting-started-with-pycatch">
<h1>Getting started with pyCATCH<a class="headerlink" href="#getting-started-with-pycatch" title="Permalink to this heading"></a></h1>
<p>This section provides a quick introduction to using pyCATCH.</p>
<p>pyCATCH essentially consists only of the class object pycatch that inclused inbuilt methods for detection and extraction of coronal holes.</p>
<p>It uses a lot of sunpy &lt;<a class="reference external" href="https://sunpy.org/">https://sunpy.org/</a>&gt; functionalites, thus for advanced usage of pyCATCH, it is suggested to make yourself familiar with it.</p>
<section id="reading-the-documentation">
<h2>Reading the documentation<a class="headerlink" href="#reading-the-documentation" title="Permalink to this heading"></a></h2>
<p>You can read the documentation by opening the</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">doc</span><span class="o">/</span><span class="n">_build</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">html</span>
</pre></div>
</div>
<p>file.</p>
</section>
<section id="installing-pycatch">
<h2>Installing pyCATCH<a class="headerlink" href="#installing-pycatch" title="Permalink to this heading"></a></h2>
<p>For pyCATCH version &lt; 1.0.0:    Download or pull pyCATCH repository from GitHub</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">sgheinemann</span><span class="o">/</span><span class="n">pycatch</span>
</pre></div>
</div>
<p>Navigate to the directory and install pyCATCH using pip</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">.</span>
</pre></div>
</div>
<p>pyCATCH uses the following packages:</p>
<blockquote>
<div><ul class="simple">
<li><p>astropy</p></li>
<li><p>joblib</p></li>
<li><p>matplotlib</p></li>
<li><p>numexpr</p></li>
<li><p>numpy</p></li>
<li><p>opencv-python</p></li>
<li><p>sunpy</p></li>
<li><p>reproject</p></li>
<li><p>scipy</p></li>
</ul>
</div></blockquote>
</section>
<section id="initializing-pycatch">
<h2>Initializing pyCATCH<a class="headerlink" href="#initializing-pycatch" title="Permalink to this heading"></a></h2>
<p>Import the pycatch class with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pycatch.pycatch</span> <span class="kn">import</span> <span class="n">pycatch</span>
</pre></div>
</div>
<p>then you can initilize the class</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span> <span class="o">=</span> <span class="n">pycatch</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="dowloading-data">
<h2>Dowloading data<a class="headerlink" href="#dowloading-data" title="Permalink to this heading"></a></h2>
<p>EUV data can be downloaded with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;DATE&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>and respectively magnetograms, if a EUV map is already loaded</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">download_magnetogram</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="loading-data">
<h2>Loading data<a class="headerlink" href="#loading-data" title="Permalink to this heading"></a></h2>
<p>EUV images and magnetograms can be loaded into the pyCATCH class by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;PATH&#39;</span><span class="p">)</span>
<span class="n">ch</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;PATH&#39;</span><span class="p">,</span> <span class="n">mag</span> <span class="o">=</span> <span class="kc">True</span> <span class="p">)</span>
</pre></div>
</div>
<p>If data was downloaded with the same instance of the pyCATCH class, the path to the downloaded data is stored in the class and the load method can be called without providing the path.</p>
</section>
<section id="calibrating-data">
<h2>Calibrating data<a class="headerlink" href="#calibrating-data" title="Permalink to this heading"></a></h2>
<p>Prepare the date for coronal hole extraction</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">calibration</span><span class="p">()</span>
<span class="n">ch</span><span class="o">.</span><span class="n">calibration_mag</span><span class="p">()</span>
</pre></div>
</div>
<p>The data can rebinned and cutout if desired</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">rebin</span><span class="p">(</span><span class="n">ndim</span><span class="o">=</span><span class="p">(</span><span class="n">nx</span><span class="p">,</span><span class="n">ny</span><span class="p">))</span>
<span class="n">ch</span><span class="o">.</span><span class="n">cutout</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="p">(</span><span class="n">x_max</span><span class="p">,</span><span class="n">y_max</span><span class="p">),</span> <span class="n">bot</span><span class="o">=</span><span class="p">(</span><span class="n">x_min</span><span class="p">,</span><span class="n">y_min</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="selecting-coronal-hole-seed-point">
<h2>Selecting coronal hole seed point<a class="headerlink" href="#selecting-coronal-hole-seed-point" title="Permalink to this heading"></a></h2>
<p>Select a seed point from an interactive window from where the coronal hole will be grown</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">hint</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Flag hint to highlight dark regions (possible but not necessarily all coronal hole).</p>
</section>
<section id="setting-a-threshold">
<h2>Setting a threshold<a class="headerlink" href="#setting-a-threshold" title="Permalink to this heading"></a></h2>
<p>pyCATCH features four different options to select a threshold.</p>
<blockquote>
<div><ul>
<li><p>Set the threshold manually</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">set_threshold</span><span class="p">(</span><span class="n">Threshold</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Use the threshold derived from CATCH statistics (Heinemann et al. 2019)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">suggest_threshold</span><span class="p">()</span>
</pre></div>
</div>
<p>It is advised to use this option to get a starting suggestion and then adjust the threshold as needed.</p>
</li>
<li><p>Select the threshold from solar disk intensity distribution</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">threshold_from_hist</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p>Calculate the coronal hole area and uncertainty as function of intensity and select the boundary to be where the uncertainty is lowest.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">calculate_curves</span><span class="p">()</span>
<span class="n">ch</span><span class="o">.</span><span class="n">threshold_from_curves</span><span class="p">()</span>
</pre></div>
</div>
<p>Warning: This is an advance option and can be slow with high resolution.</p>
</li>
</ul>
</div></blockquote>
</section>
<section id="extracting-the-coronal-hole">
<h2>Extracting the coronal hole<a class="headerlink" href="#extracting-the-coronal-hole" title="Permalink to this heading"></a></h2>
<p>The coronal hole can be extracted from the selected seed point and the set threshold</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">extract_ch</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="calculating-coronal-hole-properties">
<h2>Calculating coronal hole properties<a class="headerlink" href="#calculating-coronal-hole-properties" title="Permalink to this heading"></a></h2>
<p>The coronal hole’s morphological properties can be calculated with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">calculate_properties</span><span class="p">()</span>
</pre></div>
</div>
<p>and the magnetic properties can be calculated with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">calculate_properties</span><span class="p">(</span><span class="n">mag</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="plotting-and-saving-coronal-hole-extractions">
<h2>Plotting and saving coronal hole extractions<a class="headerlink" href="#plotting-and-saving-coronal-hole-extractions" title="Permalink to this heading"></a></h2>
<p>The intensity map with the coronal hole boundary and uncertainties overlaid can be displayed with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">plot_map</span><span class="p">()</span>
</pre></div>
</div>
<p>Set the ‘mag’ flag to display the magnetogram instead</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">plot_map</span><span class="p">(</span><span class="n">mag</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the ‘save’ flag to save the images to PDF</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">plot_map</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ch</span><span class="o">.</span><span class="n">plot_map</span><span class="p">(</span><span class="n">mag</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The properties of the extracted coronal hole can be saved in a text file with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">print_properties</span><span class="p">()</span>
</pre></div>
</div>
<p>And the extracted coronal hole ‘binary’ map can be saved as a fits file with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">bin2fits</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="saving-and-loading-pycatch-session">
<h2>Saving and loading pyCATCH session<a class="headerlink" href="#saving-and-loading-pycatch-session" title="Permalink to this heading"></a></h2>
<p>A pyCATCH object can be save to a pickle file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>and restored with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ch_loaded</span> <span class="o">=</span> <span class="n">pycatch</span><span class="p">(</span><span class="n">restore</span><span class="o">=</span><span class="s1">&#39;PATH&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this heading"></a></h2>
<p>Example python scripts can be found in the directory</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">examples</span><span class="o">/</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="pyCATCH" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pycatch/index.html" class="btn btn-neutral float-right" title="pyCATCH" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Stephan G. Heinemann.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>